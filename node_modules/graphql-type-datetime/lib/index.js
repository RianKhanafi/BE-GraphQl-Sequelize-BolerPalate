'use strict';

exports.__esModule = true;

var _graphql = require('graphql');

var _language = require('graphql/language');

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = new _graphql.GraphQLScalarType({
  name: 'DateTime',
  description: 'The `DateTime` scalar represents a date and time following the ISO 8601 standard',
  serialize: function serialize(value) {
    // value sent to the client
    return value;
  },
  parseValue: function parseValue(value) {
    // value from the client
    if (!(0, _moment2.default)(value).isValid) {
      throw new TypeError('DateTime must be in a recognized RFC2822 or ISO 8601 format ' + String(value) + '.');
    }

    return _moment2.default.utc(value).toISOString();
  },
  parseLiteral: function parseLiteral(ast) {
    if (ast.kind !== _language.Kind.STRING) {
      throw new TypeError('DateTime cannot represent non string type ' + String(ast.value != null ? ast.value : null));
    }

    return _moment2.default.utc(ast.value).toISOString();
  }
});
module.exports = exports['default'];